{"version":3,"file":"static/webpack/static/development/pages/courses.js.bfa4f72d5abb9328940d.hot-update.js","sources":["webpack:///./pages/courses.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardImg,\n  CardText,\n  CardBody,\n  CardTitle,\n  Button,\n  Form,\n  Input,\n  InputGroup\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport TextTruncate from \"react-text-truncate\";\n\nimport route from \"../components/api-services\";\nimport Layout from \"../components/Layout\";\n\nclass Books extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: [],\n      minPage: 0,\n      maxPage: 4,\n      searchValue: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    if (this.props.match.path === \"/courses\") {\n      axios\n        .get(\n          route.baseURL +\n            route.coursesLimitTo +\n            \"&_start=\" +\n            this.state.minPage +\n            \"&_end=\" +\n            this.state.maxPage\n        )\n        .then(res => {\n          this.setState({\n            allCourses: res.data\n          });\n        });\n    }\n\n    if (this.props.match.path === \"/courses/:bookId\") {\n      axios\n        .get(\n          route.baseURL +\n            route.coursesByBooksID +\n            this.props.match.params.bookId +\n            \"&_start=\" +\n            this.state.minPage +\n            \"&_end=\" +\n            this.state.maxPage\n        )\n        .then(res => {\n          this.setState({\n            allCourses: res.data\n          });\n        });\n    }\n  };\n\n  getMore = () => {\n    this.setState(\n      {\n        maxPage: this.state.maxPage + 4\n      },\n      () => {\n        this.componentDidMount();\n      }\n    );\n  };\n\n  getLess = () => {\n    if (this.state.maxPage > 4) {\n      this.setState(\n        {\n          maxPage: this.state.maxPage - 4\n        },\n        () => {\n          this.componentDidMount();\n        }\n      );\n    }\n  };\n\n  searchField = () => {\n    axios\n      .get(route.baseURL + route.booksLimitTo + \"&q=\" + this.state.searchValue)\n      .then(res => {\n        this.setState({\n          allBooks: res.data\n        });\n      });\n  };\n\n  resetSearchField = () => {\n    this.setState(\n      {\n        searchValue: \"\"\n      },\n      () => {\n        document.getElementById(\"searchForm\").reset();\n        this.searchField();\n      }\n    );\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  render() {\n    const { allBooks, maxPage } = this.state;\n    return (\n      <Layout>\n        <Container className=\"custom-container\">\n          <Row>\n            <Col md=\"12\" className=\"center-position\">\n              <h2>Find your favorite book</h2>\n              <br />\n              <Form id=\"searchForm\">\n                <Row>\n                  <Col md=\"7\">\n                    <InputGroup>\n                      <Input\n                        placeholder=\"... type to search\"\n                        name=\"searchValue\"\n                        onChange={event => {\n                          this.handleChange(event);\n                          this.searchField();\n                        }}\n                      />\n                    </InputGroup>\n                  </Col>\n                  <Button\n                    color=\"primary\"\n                    size=\"sm\"\n                    onClick={() => this.searchField()}\n                  >\n                    Find your book\n                  </Button>\n                  <Button size=\"sm\" onClick={() => this.resetSearchField()}>\n                    Reset\n                  </Button>\n                </Row>\n              </Form>\n            </Col>\n          </Row>\n          <hr />\n          <Row>\n            {allBooks.map(item => (\n              <Col md=\"6\" key={item.id}>\n                <Card>\n                  <CardImg\n                    top\n                    width=\"300px\"\n                    height=\"300px\"\n                    src={item.images}\n                    alt=\"Card image\"\n                  />\n                  <CardBody>\n                    <CardTitle>\n                      <b>Title:</b> {item.title}\n                    </CardTitle>\n                    <div>\n                      <b>Description:</b>\n                      <TextTruncate\n                        line={5}\n                        truncateText=\"â€¦\"\n                        text={item.description}\n                      />\n                    </div>\n                    <CardText>\n                      <b>Author:</b> {item.author}\n                    </CardText>\n                    <CardText>\n                      <b>Publisher:</b> {item.publisher}\n                    </CardText>\n                    <CardText>\n                      <b>Published: </b>\n                      <Moment format=\"DD/MM/YYYY\">{item.published}</Moment>\n                    </CardText>\n                    <CardText>\n                      <b>Pages:</b> {item.pages}\n                    </CardText>\n                    <CardText>\n                      <b>Website: </b>\n                      <a\n                        href={item.website}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        {item.website}\n                      </a>\n                    </CardText>\n                  </CardBody>\n                </Card>\n                <br />\n              </Col>\n            ))}\n          </Row>\n          <hr />\n          <Row>\n            <Col md=\"12\" className=\"center-position\">\n              <Button\n                color=\"success\"\n                onClick={() => {\n                  this.getMore();\n                }}\n              >\n                Show more{\" \"}\n              </Button>\n              {maxPage > 4 && (\n                <Button\n                  color=\"danger\"\n                  onClick={() => {\n                    this.getLess();\n                  }}\n                >\n                  Show less{\" \"}\n                </Button>\n              )}\n            </Col>\n          </Row>\n          <br />\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport default Books;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAcA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAWA;AACA;AAUA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAWA;AACA;AADA;AAGA;AACA;AACA;AACA;AA9CA;AAgDA;AAEA;AADA;AAIA;AACA;AAEA;AACA;AAzDA;AA2DA;AACA;AAEA;AADA;AAIA;AACA;AAEA;AACA;AACA;AAtEA;AAwEA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAhFA;AAkFA;AAEA;AADA;AAIA;AACA;AAAA;AACA;AAEA;AACA;AA5FA;AA8FA;AAGA;AACA;AAhGA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AA0FA;AAAA;AACA;AADA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AA/CA;AAmDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAzNA;AACA;AA2NA;;;;A","sourceRoot":""}